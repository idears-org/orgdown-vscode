#+TITLE: Test Suite for Timestamps

#+NAME: Active timestamp
#+BEGIN_FIXTURE
<2025-08-01 Fri>
#+END_FIXTURE

#+EXPECTED: :type regex :name timestampActiveRegex
| Group # | Expected Value |
|---------+----------------|
| 0       | <2025-08-01 Fri> |

#+NAME: Inactive timestamp
#+BEGIN_FIXTURE
[2025-08-01 Fri]
#+END_FIXTURE

#+EXPECTED: :type regex :name timestampInactiveRegex
| Group # | Expected Value |
|---------+----------------|
| 0       | [2025-08-01 Fri] |

#+NAME: Active timestamp with time
#+BEGIN_FIXTURE
<2025-08-01 Fri 10:00>
#+END_FIXTURE

#+EXPECTED: :type regex :name timestampActiveRegex
| Group # | Expected Value |
|---------+----------------|
| 0       | <2025-08-01 Fri 10:00> |

#+NAME: Active timestamp with time range
#+BEGIN_FIXTURE
<2025-08-01 Fri 10:00-12:00>
#+END_FIXTURE

#+EXPECTED: :type regex :name timestampActiveRegex
| Group # | Expected Value |
|---------+----------------|
| 0       | <2025-08-01 Fri 10:00-12:00> |

#+NAME: Active timestamp with date range
#+BEGIN_FIXTURE
<2025-08-01 Fri>--<2025-08-05 Tue>
#+END_FIXTURE

#+EXPECTED: :type regex :name timestampActiveRangeRegex
| Group # | Expected Value |
|---------+----------------|
| 0       | <2025-08-01 Fri>--<2025-08-05 Tue> |

#+NAME: Inactive timestamp with date range
#+BEGIN_FIXTURE
[2025-08-01 Fri]--[2025-08-05 Tue]
#+END_FIXTURE

#+EXPECTED: :type regex :name timestampInactiveRangeRegex
| Group # | Expected Value |
|---------+----------------|
| 0       | [2025-08-01 Fri]--[2025-08-05 Tue] |

#+NAME: Active timestamp with repeater
#+BEGIN_FIXTURE
<2025-08-01 Fri +1w>
#+END_FIXTURE

#+EXPECTED: :type regex :name timestampActiveRegex
| Group # | Expected Value |
|---------+----------------|
| 0       | <2025-08-01 Fri +1w> |

#+NAME: Active timestamp with advanced repeater
#+BEGIN_FIXTURE
<2025-08-01 Fri +2d/3w>
#+END_FIXTURE

#+EXPECTED: :type regex :name timestampActiveRegex
| Group # | Expected Value |
|---------+----------------|
| 0       | <2025-08-01 Fri +2d/3w> |

#+NAME: Active timestamp with warning period
#+BEGIN_FIXTURE
<2025-08-01 Fri -5d>
#+END_FIXTURE

#+EXPECTED: :type regex :name timestampActiveRegex
| Group # | Expected Value |
|---------+----------------|
| 0       | <2025-08-01 Fri -5d> |

#+NAME: Incomplete timestamp 1
#+BEGIN_FIXTURE
<2025-08-01
#+END_FIXTURE

#+EXPECTED: :type regex :name timestampActiveRegex
no-match

#+NAME: Incomplete timestamp 2
#+BEGIN_FIXTURE
<2025-08-01 Fri 10:00-
#+END_FIXTURE

#+EXPECTED: :type regex :name timestampActiveRegex
no-match

#+NAME: Incomplete timestamp 3
#+BEGIN_FIXTURE
[2025-08-01 Fri
#+END_FIXTURE

#+EXPECTED: :type regex :name timestampInactiveRegex
no-match

#+NAME: Timestamp with no space after
#+BEGIN_FIXTURE
<2025-08-23 Sat>No space after
#+END_FIXTURE

#+EXPECTED: :type regex :name timestampActiveRegex
| Group # | Expected Value |
|---------+----------------|
| 0       | <2025-08-23 Sat> |

#+NAME: Timestamp with special symbols after
#+BEGIN_FIXTURE
<2025-08-18 Mon> #!@# [2025-08-19 Tue]
#+END_FIXTURE

#+EXPECTED: :type regex :name timestampActiveRegex
| Group # | Expected Value |
|---------+----------------|
| 0       | <2025-08-18 Mon> |

#+NAME: Active timestamp (date only)
#+BEGIN_FIXTURE
<2025-08-01>
#+END_FIXTURE

#+EXPECTED: :type regex :name timestampActiveRegex
| Group # | Expected Value |
|---------+----------------|
| 0       | <2025-08-01> |

#+NAME: Active timestamp with timezone
#+BEGIN_FIXTURE
<2025-08-01 Fri 10:00 +0000>
#+END_FIXTURE

#+EXPECTED: :type regex :name timestampActiveRegex
| Group # | Expected Value |
|---------+----------------|
| 0       | <2025-08-01 Fri 10:00 +0000> |

#+NAME: Timestamp scope assertions
#+BEGIN_FIXTURE
<2025-08-01 Fri>
[2025-08-01 Fri]
<2025-08-01 Fri 10:00>
<2025-08-01 Fri 10:00-12:00>
[2025-08-01 Fri]--[2025-08-05 Tue]
<2025-08-01>
<2025-08-01 Fri 10:00 +0000>
#+END_FIXTURE

#+EXPECTED: :type scope
"<2025-08-01 Fri>" => {{scopes.TIMESTAMP_ACTIVE}}
"[2025-08-01 Fri]" => {{scopes.TIMESTAMP_INACTIVE}}
"<2025-08-01 Fri 10:00>" => {{scopes.TIMESTAMP_ACTIVE}}
"<2025-08-01 Fri 10:00-12:00>" => {{scopes.TIMESTAMP_ACTIVE}}
"[2025-08-01 Fri]--[2025-08-05 Tue]" => {{scopes.TIMESTAMP_INACTIVE_RANGE}}
"<2025-08-01>" => {{scopes.TIMESTAMP_ACTIVE}}
"<2025-08-01 Fri 10:00 +0000>" => {{scopes.TIMESTAMP_ACTIVE}}
