#+TITLE: Test Suite for Lists

* Unordered Lists

#+NAME: Unordered list (-)
#+BEGIN_FIXTURE
- A simple list item
#+END_FIXTURE
#+EXPECTED: :type regex :name unorderedListRegex
| Group # | Expected Value |
|---------+----------------|
| 2       | -              |

#+NAME: Unordered list (+)
#+BEGIN_FIXTURE
+ Another list item
#+END_FIXTURE
#+EXPECTED: :type regex :name unorderedListRegex
| Group # | Expected Value |
|---------+----------------|
| 2       | +              |

#+NAME: Unordered list checkbox [ ]
#+BEGIN_FIXTURE
- [ ] An unchecked task
#+END_FIXTURE
#+EXPECTED: :type regex :name unorderedListRegex
| Group # | Expected Value |
|---------+----------------|
| 2       | -              |
| 3       | <sp:1>         |

#+NAME: Unordered list checkbox [X]
#+BEGIN_FIXTURE
+ [X] A checked task
#+END_FIXTURE
#+EXPECTED: :type regex :name unorderedListRegex
| Group # | Expected Value |
|---------+----------------|
| 2       | +              |
| 3       | X              |

#+NAME: Unordered list checkbox [-]
#+BEGIN_FIXTURE
- [-] An intermediate task
#+END_FIXTURE
#+EXPECTED: :type regex :name unorderedListRegex
| Group # | Expected Value |
|---------+----------------|
| 2       | -              |
| 3       | -              |

* Ordered Lists

#+NAME: Ordered list (.)
#+BEGIN_FIXTURE
1. First item
#+END_FIXTURE
#+EXPECTED: :type regex :name orderedListRegex
| Group # | Expected Value |
|---------+----------------|
| 2       | 1.             |

#+NAME: Ordered list ()
#+BEGIN_FIXTURE
2) Second item
#+END_FIXTURE
#+EXPECTED: :type regex :name orderedListRegex
| Group # | Expected Value |
|---------+----------------|
| 2       | 2)             |

#+NAME: Ordered list with counter
#+BEGIN_FIXTURE
3. [@5] Starts at 5
#+END_FIXTURE
#+EXPECTED: :type regex :name orderedListRegex
| Group # | Expected Value |
|---------+----------------|
| 2       | 3.             |
#+EXPECTED: :type regex :name listCounterRegex
| Group # | Expected Value |
|---------+----------------|
| 1       | 5              |

* Description Lists

#+NAME: Description list item
#+BEGIN_FIXTURE
- Term :: Description
#+END_FIXTURE
#+EXPECTED: :type regex :name unorderedListRegex
| Group # | Expected Value |
|---------+----------------|
| 2       | -              |
#+EXPECTED: :type regex :name descriptionSeparatorRegex
| Group # | Expected Value |
|---------+----------------|
| 1       | - Term         |
| 2       | ::             |

#+NAME: Description list with markup in term
#+BEGIN_FIXTURE
- *Term* :: Description
#+END_FIXTURE
#+EXPECTED: :type regex :name unorderedListRegex
| Group # | Expected Value |
|---------+----------------|
| 2       | -              |
#+EXPECTED: :type regex :name descriptionSeparatorRegex
| Group # | Expected Value |
|---------+----------------|
| 1       | - *Term*       |
| 2       | ::             |

#+NAME: Description list with no term
#+BEGIN_FIXTURE
- :: Description
#+END_FIXTURE
#+EXPECTED: :type regex :name unorderedListRegex
| Group # | Expected Value |
|---------+----------------|
| 2       | -              |
#+EXPECTED: :type regex :name descriptionSeparatorRegex
| Group # | Expected Value |
|---------+----------------|
| 1       | -              |
| 2       | ::             |

#+NAME: List item as description term
#+BEGIN_FIXTURE
- - Another list :: as a term
#+END_FIXTURE
#+EXPECTED: :type regex :name unorderedListRegex
| Group # | Expected Value |
|---------+----------------|
| 2       | -              |
#+EXPECTED: :type regex :name descriptionSeparatorRegex
| Group # | Expected Value   |
|---------+------------------|
| 1       | - - Another list |
| 2       | ::               |

* Indentation & Nesting

#+NAME: Space-indented list
#+BEGIN_FIXTURE
  - Indented
#+END_FIXTURE
#+EXPECTED: :type regex :name unorderedListRegex
| Group # | Expected Value |
|---------+----------------|
| 1       | <sp:2>         |
| 2       | -              |

#+NAME: Tab-indented list
#+BEGIN_FIXTURE
	- Tab-indented
#+END_FIXTURE
#+EXPECTED: :type regex :name unorderedListRegex
| Group # | Expected Value |
|---------+----------------|
| 1       | <tab>          |
| 2       | -              |

#+NAME: Nested mixed list
#+BEGIN_FIXTURE
1. Parent
  - Child
#+END_FIXTURE
#+EXPECTED: :type regex :name orderedListRegex
| Group # | Expected Value |
|---------+----------------|
| 2       | 1.             |

* Non-Matching Cases

#+NAME: Not a list - star bullet
#+BEGIN_FIXTURE
* Not a list item
#+END_FIXTURE
#+EXPECTED: :type regex :name unorderedListRegex
no-match

#+NAME: Show Case - scope assertions for lists
#+BEGIN_FIXTURE
- [ ] Unchecked task
+ [X] Checked task
- [-] Intermediate task
1. Parent item
  - Child item
- Term :: Description
#+END_FIXTURE
#+EXPECTED: :type scope
"- [ ] Unchecked task" => {{scopes.LIST_UNORDERED_TEXT}}
  - "-" => {{scopes.LIST_BULLET}}
  - "[ ]" => {{scopes.CHECKBOX}}
  - "Unchecked task" => {{scopes.LIST_UNORDERED_TEXT}}
"+ [X] Checked task" => {{scopes.LIST_UNORDERED_TEXT}}
  - "+" => {{scopes.LIST_BULLET}}
  - "[X]" => {{scopes.CHECKBOX}}
  - "Checked task" => {{scopes.LIST_UNORDERED_TEXT}}
"- [-] Intermediate task" => {{scopes.LIST_UNORDERED_TEXT}}
  - "-" => {{scopes.LIST_BULLET}}
  - "[-]" => {{scopes.CHECKBOX}}
  - "Intermediate task" => {{scopes.LIST_UNORDERED_TEXT}}
"1. Parent item" => {{scopes.LIST_ORDERED_TEXT}}
  - "1." => {{scopes.LIST_BULLET}}
  - "Parent item" => {{scopes.LIST_ORDERED_TEXT}}
"<sp:2>- Child item" => {{scopes.LIST_UNORDERED_TEXT}}
  - "<sp:2>" => {{scopes.LEADING_WHITESPACE}}
  - "-" => {{scopes.LIST_BULLET}}
  - "Child item" => {{scopes.LIST_UNORDERED_TEXT}}
"- Term :: Description" => {{scopes.LIST_UNORDERED_TEXT}}
  - "-" => {{scopes.LIST_BULLET}}
  - "Term" => {{scopes.DESCRIPTION_TERM}}
  - "::" => {{scopes.DESCRIPTION_SEPARATOR}}
  - "Description" => {{scopes.LIST_UNORDERED_TEXT}}
#+NAME: Not a list - no space after bullet
#+BEGIN_FIXTURE
-Not a list
#+END_FIXTURE
#+EXPECTED: :type regex :name unorderedListRegex
no-match

#+NAME: Not a list - full-width dash
#+BEGIN_FIXTURE
Ôºç Not a list
#+END_FIXTURE
#+EXPECTED: :type regex :name unorderedListRegex
no-match

#+NAME: Not a list - horizontal rule
#+BEGIN_FIXTURE
---
#+END_FIXTURE
#+EXPECTED: :type regex :name unorderedListRegex
no-match

#+NAME: Not a list - checkbox no space
#+BEGIN_FIXTURE
-[] No space
#+END_FIXTURE
#+EXPECTED: :type regex :name unorderedListRegex
no-match
