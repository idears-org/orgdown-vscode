#+TITLE: Test Suite for Properties
#+AUTHOR: Orgdown Team

#+NAME: A full, multi-line properties drawer
#+BEGIN_FIXTURE
:PROPERTIES:
:Owner: Alice
:effort-estimate: 1:00
:CREATED+: [2025-08-02]
:Empty:
:END:
#+END_FIXTURE

#+EXPECTED: :type regex :name propertyDrawerBeginRegex
| Group # | Expected Value |
|---------+----------------|
| 0       | :PROPERTIES:   |

#+EXPECTED: :type regex :name drawerEndRegex
| Group # | Expected Value |
|---------+----------------|
| 0       | :END:          |

#+NAME: A property key and value
#+BEGIN_FIXTURE
:Owner: Alice
#+END_FIXTURE
#+EXPECTED: :type regex :name propertyRegex
| Group # | Expected Value |
|---------+----------------|
| 1       | Owner          |
| 2       | Alice          |

#+NAME: A property with a numeric value
#+BEGIN_FIXTURE
:Number: 42
#+END_FIXTURE
#+EXPECTED: :type regex :name propertyRegex
| Group # | Expected Value |
|---------+----------------|
| 1       | Number         |
| 2       | 42             |

#+NAME: A property with an empty value
#+BEGIN_FIXTURE
:Empty:
#+END_FIXTURE
#+EXPECTED: :type regex :name propertyRegex
| Group # | Expected Value |
|---------+----------------|
| 1       | Empty          |
| 2       | undefined      |

#+NAME: A property with a value containing spaces
#+BEGIN_FIXTURE
:Description: This is a test.
#+END_FIXTURE
#+EXPECTED: :type regex :name propertyRegex
| Group # | Expected Value |
|---------+----------------|
| 1       | Description    |
| 2       | This is a test.|

#+NAME: A property key with a hyphen
#+BEGIN_FIXTURE
:effort-estimate: 1:00
#+END_FIXTURE
#+EXPECTED: :type regex :name propertyRegex
| Group # | Expected Value |
|---------+----------------|
| 1       | effort-estimate|
| 2       | 1:00           |

#+NAME: A property key with a plus sign
#+BEGIN_FIXTURE
:CREATED+: [2025-08-02]
#+END_FIXTURE
#+EXPECTED: :type regex :name propertyRegex
| Group # | Expected Value |
|---------+----------------|
| 1       | CREATED+       |
| 2       | [2025-08-02]   |

#+NAME: A property value with leading and trailing spaces
#+BEGIN_FIXTURE
:Key:   value with spaces
#+END_FIXTURE
#+EXPECTED: :type regex :name propertyRegex
| Group # | Expected Value |
|---------+----------------|
| 1       | Key            |
| 2       |  value with spaces   |

#+NAME: Malformed property key with space
#+BEGIN_FIXTURE
:Invalid Key: some value
#+END_FIXTURE
#+EXPECTED: :type regex :name propertyRegex
no-match

#+NAME: Malformed property line missing starting colon
#+BEGIN_FIXTURE
Owner: Alice
#+END_FIXTURE
#+EXPECTED: :type regex :name propertyRegex
no-match

#+NAME: Malformed property with no space after key
#+BEGIN_FIXTURE
:Key:value
#+END_FIXTURE
#+EXPECTED: :type regex :name propertyRegex
no-match
